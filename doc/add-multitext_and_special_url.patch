diff -Nur elgg-1.7.10/views/default//input/connect_multitext.php connect/views/default//input/connect_multitext.php
--- elgg-1.7.10/views/default//input/connect_multitext.php	1970-01-01 01:00:00.000000000 +0100
+++ connect/views/default//input/connect_multitext.php	2011-06-16 14:53:55.136000181 +0200
@@ -0,0 +1,42 @@
+<?php
+/**
+ * Elgg text input
+ * Displays a text input field
+ *
+ * @package Elgg
+ * @subpackage Core
+
+ * @author Curverider Ltd
+
+ * @link http://elgg.org/
+ *
+ * @uses $vars['value'] The current value, if any
+ * @uses $vars['js'] Any Javascript to enter into the input tag
+ * @uses $vars['internalname'] The name of the input field
+ * @uses $vars['disabled'] If true then control is read-only
+ * @uses $vars['class'] Class override
+ */
+
+
+if (isset($vars['class'])) {
+	$class = $vars['class'];
+} else {
+	$class = "input-text";
+}
+
+$disabled = false;
+if (isset($vars['disabled'])) {
+	$disabled = $vars['disabled'];
+}
+
+$values = str_replace(',/',',',explode(', ',$vars['value']));
+
+?>
+
+<?php
+foreach($values as $item) {
+	if($item != "") {
+?>
+	<p><input type="text" <?php if ($disabled) echo ' disabled="yes" '; ?> name="<?php echo $vars['internalname'] . '[]'; ?>" <?php if (isset($vars['internalid'])) echo "id=\"{$vars['internalid']}\""; ?> value="<?php echo htmlentities($item, ENT_QUOTES, 'UTF-8'); ?>" class="<?php echo $class ?>"/></p>
+<?php }} ?>
+ <p><input type="text" <?php if ($disabled) echo ' disabled="yes" '; ?> name="<?php echo $vars['internalname'] . '[]'; ?>" <?php if (isset($vars['internalid'])) echo "id=\"{$vars['internalid']}1\""; ?> value="" class="<?php echo $class ?>"/></p>
diff -Nur elgg-1.7.10/views/default//input/connect_url.php connect/views/default//input/connect_url.php
--- elgg-1.7.10/views/default//input/connect_url.php	1970-01-01 01:00:00.000000000 +0100
+++ connect/views/default//input/connect_url.php	2011-06-16 14:53:55.136000181 +0200
@@ -0,0 +1,34 @@
+<?php
+/**
+ * Elgg text input
+ * Displays a text input field
+ *
+ * @package Elgg
+ * @subpackage Core
+
+ * @author Curverider Ltd
+
+ * @link http://elgg.org/
+ *
+ * @uses $vars['value'] The current value, if any
+ * @uses $vars['js'] Any Javascript to enter into the input tag
+ * @uses $vars['internalname'] The name of the input field
+ * @uses $vars['disabled'] If true then control is read-only
+ * @uses $vars['class'] Class override
+ */
+
+
+if (isset($vars['class'])) {
+	$class = $vars['class'];
+} else {
+	$class = "input-text";
+}
+
+$disabled = false;
+if (isset($vars['disabled'])) {
+	$disabled = $vars['disabled'];
+}
+
+?>
+
+<input type="text" <?php if ($disabled) echo ' disabled="yes" '; ?> <?php echo $vars['js']; ?> name="<?php echo $vars['internalname']; ?>" <?php if (isset($vars['internalid'])) echo "id=\"{$vars['internalid']}\""; ?> value="<?php echo htmlentities($vars['value'], ENT_QUOTES, 'UTF-8'); ?>" class="<?php echo $class ?>"/>
diff -Nur elgg-1.7.10/views/default//output/connect_multitext.php connect/views/default//output/connect_multitext.php
--- elgg-1.7.10/views/default//output/connect_multitext.php	1970-01-01 01:00:00.000000000 +0100
+++ connect/views/default//output/connect_multitext.php	2011-06-16 14:53:55.139000181 +0200
@@ -0,0 +1,28 @@
+<?php
+/**
+ * Elgg text output
+ * Displays some text that was input using a standard text field
+ *
+ * @package Elgg
+ * @subpackage Core
+ * @author Curverider Ltd
+ * @link http://elgg.org/
+ *
+ * @uses $vars['text'] The text to display
+ *
+ */
+
+require_once 'connect_url_data.php';
+
+if(is_array($vars['value'])) {
+   $iter = $vars['value'];
+} else {
+   $iter = array( $vars['value'], "");
+}
+
+echo "<ul>";
+foreach($vars['value'] as $item) {
+   if($item && strlen($item)>0)
+      echo '<li>' . create_url($vars['internalname'], $item) . '</li>';
+}
+echo "</ul>";
diff -Nur elgg-1.7.10/views/default//output/connect_url.php connect/views/default//output/connect_url.php
--- elgg-1.7.10/views/default//output/connect_url.php	1970-01-01 01:00:00.000000000 +0100
+++ connect/views/default//output/connect_url.php	2011-06-16 14:53:55.139000181 +0200
@@ -0,0 +1,18 @@
+<?php
+/**
+ * Elgg text output
+ * Displays some text that was input using a standard text field
+ *
+ * @package Elgg
+ * @subpackage Core
+ * @author Curverider Ltd
+ * @link http://elgg.org/
+ *
+ * @uses $vars['text'] The text to display
+ *
+ */
+
+require_once 'connect_url_data.php';
+
+echo create_url($vars['internalname'],$vars['value']);
+?>
diff -Nur elgg-1.7.10/views/default//output/connect_url_data.php connect/views/default//output/connect_url_data.php
--- elgg-1.7.10/views/default//output/connect_url_data.php	1970-01-01 01:00:00.000000000 +0100
+++ connect/views/default//output/connect_url_data.php	2011-06-16 14:53:55.139000181 +0200
@@ -0,0 +1,32 @@
+<?php
+
+function create_url($type, $value) {
+   if(preg_match('@^(https://|http://|irc://)@',$value)) {
+      return "<a href=\"{$value}\">" . $value . '</a>';
+   }
+   $data = array (
+      ':obs'              => 'https://build.opensuse.org/project/show?project=%v',
+      ':gpg'              => 'http://pgp.mit.edu:11371/pks/lookup?op=get&search=%v',
+      'profile:facebook'  => 'http://www.facebook.com/%v',
+      ':contactemail'     => 'mailto:%v',
+      ':xmpp'             => 'xmpp:%v',
+      ':sip'              => 'sip:%v',
+      ':freenode_channel' => 'irc://irc.freenode.net/%v',
+      ':linkedin'         => 'http://www.linkedin.com/in/%v',
+      'profile:twitter'   => 'http://twitter.com/%v',
+      'profile:identica'  => 'http://identi.ca/%v',
+      'profile:gitorious' => 'http://gitorious.org/~%v',
+      'profile:github'    => 'http://github.com/%v',
+      'profile:ohloh'     => 'http://www.ohloh.net/accounts/%v',
+      'groups:ohloh'      => 'http://www.ohloh.net/projects/%v',
+   );
+   $stype = strstr($type,':');
+   if(($href = $data[$stype]) || ($href= $data[$type])) {
+      $href = str_replace('%v', htmlentities($value, ENT_QUOTES, 'UTF-8'), $href);
+      $href = str_replace('%/', '%', $href);
+      return "<a href=\"{$href}\">" . htmlentities($value, ENT_QUOTES, 'UTF-8') . '</a>';
+   }
+   return $value;
+}
+
+?>

